<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>QuickTools.in - Custom Image Resizer</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-50 to-pink-50 min-h-screen p-8">
<div class="max-w-4xl mx-auto">
<h1 class="text-5xl font-bold text-center mb-8 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">üñºÔ∏è Custom Image Resizer</h1>
<p class="text-xl text-center mb-12 text-gray-700">Set exact width, height & file size</p>

<!-- Upload -->
<div id="upload-area" class="border-4 border-dashed border-purple-300 rounded-3xl p-16 text-center hover:border-purple-400 cursor-pointer mb-8 bg-white/80 shadow-2xl">
  <input type="file" id="file-input" accept="image/*" class="hidden">
  <div class="text-6xl mb-4">üñºÔ∏è</div>
  <p class="text-2xl font-bold text-gray-600 mb-2" id="upload-text">Click or drag your image here</p>
  <p class="text-lg text-gray-400">Supports JPG, PNG, WebP (Max 10MB)</p>
</div>

<!-- Preview (Hidden initially) -->
<div id="preview-section" class="hidden bg-white/80 rounded-3xl p-8 shadow-2xl mb-8">
  <div class="grid md:grid-cols-2 gap-8 items-center">
    <img id="preview-img" class="w-full max-h-80 object-contain rounded-2xl shadow-xl border">
    <div class="text-center md:text-left">
      <p class="text-xl font-bold text-gray-800 mb-2" id="file-name">-</p>
      <p class="text-lg text-gray-600 mb-1" id="file-size">-</p>
      <button id="clear-file" class="mt-4 bg-red-500 text-white px-6 py-2 rounded-xl font-bold hover:bg-red-600">Clear Image</button>
    </div>
  </div>
</div>

<!-- Resize Controls -->
<div class="bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl mb-8 hidden" id="controls-section">
  <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">üìè Resize Settings</h3>
  <div class="grid md:grid-cols-3 gap-6 mb-6">
    <div>
      <label class="block text-lg font-semibold mb-2">Width (px)</label>
      <input type="number" id="width" value="1280" min="1" max="4000" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-400 text-lg">
    </div>
    <div class="flex items-center justify-center">
      <span class="text-3xl font-bold text-gray-400">√ó</span>
    </div>
    <div>
      <label class="block text-lg font-semibold mb-2">Height (px)</label>
      <input type="number" id="height" value="720" min="1" max="4000" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-400 text-lg">
    </div>
  </div>
  
  <div class="mb-6">
    <label class="block text-lg font-semibold mb-3">üíæ Target Size</label>
    <input type="range" id="quality-slider" min="10" max="100" value="85" class="w-full h-4 bg-gray-200 rounded-lg cursor-pointer">
    <div class="flex justify-between text-sm text-gray-500 mt-2">
      <span>Light (10KB)</span>
      <span id="quality-text">85KB</span>
      <span>Heavy (100KB+)</span>
    </div>
  </div>
  
  <button id="resize-btn" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-6 text-xl font-bold rounded-2xl shadow-xl hover:shadow-2xl transition-all">
    ‚ú® Resize Image Now
  </button>
</div>

<!-- Loading -->
<div id="loading" class="hidden text-center py-16">
  <div class="w-20 h-20 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-6"></div>
  <p class="text-2xl font-bold text-purple-600">Processing your image...</p>
</div>

<!-- Result -->
<div id="result-section" class="hidden bg-white/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl text-center mb-8">
  <img id="result-img" class="max-w-3xl max-h-96 mx-auto rounded-2xl shadow-2xl mb-8 block">
  <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl">
    <div><div class="text-2xl font-bold text-purple-600" id="new-width">-</div><div class="text-xs text-gray-500">Width</div></div>
    <div><div class="text-2xl font-bold text-pink-600" id="new-height">-</div><div class="text-xs text-gray-500">Height</div></div>
    <div><div class="text-2xl font-bold text-emerald-600" id="new-size">-</div><div class="text-xs text-gray-500">Size</div></div>
    <div><div class="text-2xl font-bold text-blue-600">‚úÖ</div><div class="text-xs text-gray-500">Perfect</div></div>
  </div>
  <button id="download-btn" class="w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-6 text-xl font-bold rounded-2xl shadow-xl hover:shadow-2xl">
    üíæ Download Image
  </button>
</div>
</div>

<script>
// Elements
const uploadArea = document.getElementById('upload-area');
const fileInput = document.getElementById('file-input');
const uploadText = document.getElementById('upload-text');
const previewSection = document.getElementById('preview-section');
const previewImg = document.getElementById('preview-img');
const fileName = document.getElementById('file-name');
const fileSizeEl = document.getElementById('file-size');
const controlsSection = document.getElementById('controls-section');
const widthInput = document.getElementById('width');
const heightInput = document.getElementById('height');
const qualitySlider = document.getElementById('quality-slider');
const qualityText = document.getElementById('quality-text');
const resizeBtn = document.getElementById('resize-btn');
const loading = document.getElementById('loading');
const resultSection = document.getElementById('result-section');
const resultImg = document.getElementById('result-img');
const downloadBtn = document.getElementById('download-btn');
const clearBtn = document.getElementById('clear-file');

// Click to upload
uploadArea.addEventListener('click', () => fileInput.click());

// Drag & drop
uploadArea.ondragover = (e) => {
  e.preventDefault();
  uploadArea.style.backgroundColor = '#f3e8ff';
  uploadArea.style.borderColor = '#a855f7';
};

uploadArea.ondragleave = () => {
  uploadArea.style.backgroundColor = '';
  uploadArea.style.borderColor = '#d8b4fe';
};

uploadArea.ondrop = (e) => {
  e.preventDefault();
  uploadArea.style.backgroundColor = '';
  uploadArea.style.borderColor = '#d8b4fe';
  fileInput.files = e.dataTransfer.files;
  loadImage();
};

// File input change
fileInput.addEventListener('change', loadImage);

function loadImage() {
  const file = fileInput.files[0];
  if (file && file.type.startsWith('image/') && file.size < 10 * 1024 * 1024) {
    const reader = new FileReader();
    reader.onload = (e) => {
      previewImg.src = e.target.result;
      fileName.textContent = file.name;
      fileSizeEl.textContent = (file.size / 1024).toFixed(1) + ' KB';
      
      previewSection.classList.remove('hidden');
      controlsSection.classList.remove('hidden');
      uploadArea.style.display = 'none';
    };
    reader.readAsDataURL(file);
  } else {
    alert('Please select a valid image (JPG, PNG, WebP - max 10MB)');
  }
}

// Clear image
clearBtn.onclick = () => {
  fileInput.value = '';
  previewSection.classList.add('hidden');
  controlsSection.classList.add('hidden');
  resultSection.classList.add('hidden');
  uploadArea.style.display = 'block';
  uploadText.textContent = 'Click or drag your image here';
};

// Quality slider
qualitySlider.oninput = () => {
  qualityText.textContent = qualitySlider.value + 'KB target';
};

// Resize
resizeBtn.onclick = () => {
  const file = fileInput.files[0];
  if (!file) return;
  
  loading.classList.remove('hidden');
  controlsSection.classList.add('hidden');
  
  const img = new Image();
  img.onload = () => {
    const canvas = document.createElement('canvas');
    canvas.width = parseInt(widthInput.value);
    canvas.height = parseInt(heightInput.value);
    const ctx = canvas.getContext('2d');
    ctx.imageSmoothingQuality = 'high';
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    
    canvas.toBlob((blob) => {
      const url = URL.createObjectURL(blob);
      resultImg.src = url;
      
      // Update stats
      document.getElementById('new-width').textContent = canvas.width + 'px';
      document.getElementById('new-height').textContent = canvas.height + 'px';
      document.getElementById('new-size').textContent = (blob.size / 1024).toFixed(1) + 'KB';
      
      // Download
      downloadBtn.onclick = () => {
        const a = document.createElement('a');
        a.href = url;
        a.download = `resized-${Date.now()}.jpg`;
        a.click();
      };
      
      loading.classList.add('hidden');
      resultSection.classList.remove('hidden');
    }, 'image/jpeg', parseFloat(qualitySlider.value) / 100);
  };
  img.src = URL.createObjectURL(file);
};
</script>
</body>
</html>
