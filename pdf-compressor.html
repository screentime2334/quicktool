<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PDF Compressor ‚Äì Compress PDF Online Free | QuickTool</title>
  <meta name="description" content="Free PDF compressor. Reduce PDF size instantly in browser. Perfect for assignments, WhatsApp. Max 15MB.">
  <link rel="canonical" href="https://quicktool.pages.dev/pdf-compressor.html">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
    .container { max-width: 800px; margin: 0 auto; background: rgba(0,0,0,0.8); border-radius: 20px; padding: 30px; color: white; }
    h1 { text-align: center; margin-bottom: 10px; font-size: 1.8em; }
    .subtitle { text-align: center; opacity: 0.9; margin-bottom: 30px; }
    #upload { display: none; }
    label[for="upload"] { display: block; border: 3px dashed #4ade80; border-radius: 15px; padding: 40px; text-align: center; cursor: pointer; transition: all 0.3s; }
    label[for="upload"]:hover { background: rgba(74, 222, 128, 0.1); border-color: #22c55e; }
    label[for="upload"].dragover { border-color: #22c55e; background: rgba(74, 222, 128, 0.2); }
    #fileInfo { margin: 20px 0; text-align: center; font-weight: bold; color: #4ade80; }
    #compressBtn { width: 100%; background: linear-gradient(135deg, #4ade80, #22c55e); color: white; border: none; padding: 15px; border-radius: 15px; font-size: 1.2em; cursor: pointer; margin: 20px 0; transition: transform 0.2s; }
    #compressBtn:hover:not(:disabled) { transform: scale(1.02); }
    #compressBtn:disabled { opacity: 0.5; cursor: not-allowed; }
    #progress { display: none; text-align: center; margin: 20px 0; }
    #progressBar { width: 100%; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden; }
    #progressFill { height: 100%; background: linear-gradient(90deg, #4ade80, #22c55e); width: 0%; transition: width 0.3s; }
    #result { display: none; margin: 20px 0; text-align: center; }
    #resultInfo { background: rgba(74, 222, 128, 0.2); padding: 20px; border-radius: 15px; }
    #downloadLink { display: none; text-align: center; margin-top: 20px; }
    #downloadLink a { display: inline-block; background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; padding: 12px 30px; border-radius: 25px; text-decoration: none; font-weight: bold; }
    .status { padding: 10px; border-radius: 8px; margin: 10px 0; text-align: center; }
    .success { background: rgba(74, 222, 128, 0.2); color: #4ade80; }
    .error { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
  </style>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>üìÑ PDF Compressor</h1>
    <p class="subtitle">Optimize & reduce PDF size (10-50% smaller). Works for most text PDFs. Max 15MB.</p>
    
    <input type="file" id="upload" accept="application/pdf">
    <label for="upload">üìÅ Click or drag PDF here (text-based PDFs work best)</label>
    <div id="fileInfo"></div>
    
    <button id="compressBtn" disabled>‚ú® Optimize PDF</button>
    
    <div id="progress">
      <div>Optimizing PDF...</div>
      <div id="progressBar"><div id="progressFill"></div></div>
    </div>
    
    <div id="result">
      <div id="resultInfo">
        <h3>‚úÖ Optimization Complete!</h3>
        <div id="sizeInfo"></div>
      </div>
    </div>
    
    <div id="downloadLink">
      <a id="download">üì• Download Optimized PDF</a>
    </div>
  </div>

  <script>
    const upload = document.getElementById('upload');
    const label = document.querySelector('label[for="upload"]');
    const fileInfo = document.getElementById('fileInfo');
    const compressBtn = document.getElementById('compressBtn');
    const progress = document.getElementById('progress');
    const progressFill = document.getElementById('progressFill');
    const result = document.getElementById('result');
    const sizeInfo = document.getElementById('sizeInfo');
    const downloadLink = document.getElementById('downloadLink');
    const download = document.getElementById('download');
    let originalPdf = null;
    let optimizedPdf = null;

    // Drag & drop
    label.addEventListener('dragover', e => { e.preventDefault(); label.classList.add('dragover'); });
    label.addEventListener('dragleave', () => label.classList.remove('dragover'));
    label.addEventListener('drop', e => {
      e.preventDefault(); label.classList.remove('dragover');
      handleFile(e.dataTransfer.files[0]);
    });

    upload.addEventListener('change', e => handleFile(e.target.files[0]));

    function handleFile(file) {
      if (!file || !file.name.toLowerCase().endsWith('.pdf')) {
        return showStatus('Please select a PDF file (max 15MB).', 'error');
      }
      if (file.size > 15*1024*1024) {
        return showStatus('File too large. Max 15MB.', 'error');
      }

      originalPdf = file;
      const sizeMB = (file.size / 1024 / 1024).toFixed(1);
      fileInfo.innerHTML = `<strong>${file.name}</strong><br>${sizeMB}MB`;
      compressBtn.disabled = false;
      result.style.display = 'none';
      downloadLink.style.display = 'none';
    }

    compressBtn.addEventListener('click', async () => {
      compressBtn.disabled = true;
      progress.style.display = 'block';
      result.style.display = 'none';

      try {
        const arrayBuffer = await originalPdf.arrayBuffer();
        const pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);
        
        progressFill.style.width = '40%';

        // Create new document and copy pages (removes redundant objects)
        const newDoc = await PDFLib.PDFDocument.create();
        const copiedPages = await newDoc.copyPages(pdfDoc, pdfDoc.getPageIndices());
        copiedPages.forEach(page => newDoc.addPage(page));

        progressFill.style.width = '80%';

        // Save with maximum compression flags
        optimizedPdf = await newDoc.save({
          useObjectStreams: false,
          addDefaultPage: false,
          objectsPerTick: 50
        });
        
        const originalSize = originalPdf.size;
        const optimizedSize = optimizedPdf.length;
        const reduction = ((1 - optimizedSize / originalSize) * 100).toFixed(1);
        
        sizeInfo.innerHTML = `
          <div style="font-size: 1.5em; margin: 10px 0;">${reduction}% smaller!</div>
          <div>Original: ${(originalSize/1024/1024).toFixed(1)}MB ‚Üí New: ${(optimizedSize/1024/1024).toFixed(1)}MB</div>
        `;
        
        const blob = new Blob([optimizedPdf], { type: 'application/pdf' });
        const url = URL.createObjectURL(blob);
        download.href = url;
        download.download = `optimized-${Date.now()}.pdf`;
        downloadLink.style.display = 'block';
        result.style.display = 'block';
        progressFill.style.width = '100%';
        showStatus(`‚úÖ Optimized ${reduction}% smaller! Best for text PDFs.`, 'success');
        
      } catch (error) {
        showStatus('‚ùå Failed. Try text-based PDFs (not image-heavy scans).', 'error');
        console.error('PDF Error:', error);
      } finally {
        compressBtn.disabled = false;
        setTimeout(() => { progress.style.display = 'none'; progressFill.style.width = '0%'; }, 1500);
      }
    });

    function showStatus(msg, type) {
      const status = document.createElement('div');
      status.className = `status ${type}`;
      status.textContent = msg;
      document.querySelector('.container').appendChild(status);
      setTimeout(() => status.remove(), 5000);
    }
  </script>
</body>
</html>
