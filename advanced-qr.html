<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>QuickTools.in - Advanced QR Code Studio</title>
<script src="https://cdn.tailwindcss.com"></script>
<!-- QR library -->
<script src="https://unpkg.com/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-slate-50 to-purple-50 min-h-screen p-6 md:p-10">
<div class="max-w-5xl mx-auto">
  <h1 class="text-4xl md:text-5xl font-black text-center mb-6 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent">
    üé® Advanced QR Code Studio
  </h1>
  <p class="text-center text-lg md:text-xl text-gray-600 mb-10">
    Create custom QR codes for YouTube, social links & websites with colors and sizes.
  </p>

  <!-- Form + Preview -->
  <div class="grid md:grid-cols-2 gap-8">
    <!-- Controls -->
    <div class="bg-white/90 rounded-3xl shadow-2xl p-6 md:p-8 border border-white/60">
      <!-- Type -->
      <label class="block text-sm font-semibold text-gray-700 mb-2">QR Type</label>
      <select id="qrType" class="w-full mb-4 p-3 border-2 border-gray-200 rounded-2xl focus:border-purple-500 outline-none text-sm md:text-base">
        <option value="youtube">YouTube Channel</option>
        <option value="youtube_video">YouTube Video</option>
        <option value="youtube_playlist">YouTube Playlist</option>
        <option value="website">Website URL</option>
        <option value="instagram">Instagram Profile</option>
        <option value="x">X (Twitter) Profile</option>
        <option value="whatsapp">WhatsApp Message</option>
      </select>

      <!-- URL / Handle -->
      <div class="mb-4">
        <label class="block text-sm font-semibold text-gray-700 mb-2" id="mainLabel">YouTube Channel Handle or URL</label>
        <input id="mainInput" type="text" 
               placeholder="@screentime2334 or https://youtube.com/@screentime2334"
               class="w-full p-3 border-2 border-gray-200 rounded-2xl focus:border-purple-500 outline-none text-sm md:text-base">
      </div>

      <!-- WhatsApp message -->
      <div id="waExtra" class="mb-4 hidden">
        <label class="block text-sm font-semibold text-gray-700 mb-2">WhatsApp message (optional)</label>
        <textarea id="waMessage" rows="2"
                  placeholder="Hey, I came from your QR code!"
                  class="w-full p-3 border-2 border-gray-200 rounded-2xl focus:border-purple-500 outline-none text-sm md:text-base"></textarea>
      </div>

      <!-- Style controls -->
      <div class="grid grid-cols-2 gap-4 mb-4">
        <div>
          <label class="block text-xs font-semibold text-gray-700 mb-1">Foreground color</label>
          <input id="fgColor" type="color" value="#000000" class="w-full h-10 rounded-xl border border-gray-200">
        </div>
        <div>
          <label class="block text-xs font-semibold text-gray-700 mb-1">Background color</label>
          <input id="bgColor" type="color" value="#ffffff" class="w-full h-10 rounded-xl border border-gray-200">
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-4">
        <div>
          <label class="block text-xs font-semibold text-gray-700 mb-1">Size (px)</label>
          <select id="qrSize" class="w-full p-2 border-2 border-gray-200 rounded-2xl text-sm">
            <option value="256">256 (small)</option>
            <option value="384" selected>384 (medium)</option>
            <option value="512">512 (large)</option>
          </select>
        </div>
        <div>
          <label class="block text-xs font-semibold text-gray-700 mb-1">Error correction</label>
          <select id="qrECC" class="w-full p-2 border-2 border-gray-200 rounded-2xl text-sm">
            <option value="L">L (7%)</option>
            <option value="M" selected>M (15%)</option>
            <option value="Q">Q (25%)</option>
            <option value="H">H (30%)</option>
          </select>
        </div>
      </div>

      <button id="generateBtn"
              class="w-full mt-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 md:py-4 text-base md:text-lg font-bold rounded-2xl shadow-lg hover:shadow-2xl transition-all">
        ‚ú® Generate QR Code
      </button>
    </div>

    <!-- Preview -->
    <div class="bg-white/90 rounded-3xl shadow-2xl p-6 md:p-8 border border-white/60 flex flex-col items-center">
      <h2 class="text-xl md:text-2xl font-bold text-gray-800 mb-4">Preview</h2>
      <div id="qrContainer" class="bg-white rounded-3xl p-4 shadow-inner flex items-center justify-center mb-4" style="min-width:260px; min-height:260px;">
        <!-- QR injected here -->
      </div>
      <p id="targetText" class="text-xs md:text-sm text-gray-500 break-all text-center mb-4"></p>
      <div class="flex flex-col w-full gap-3 mt-2">
        <button id="downloadPng"
                class="w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-2.5 md:py-3 text-sm md:text-base font-bold rounded-2xl shadow-md hover:shadow-xl transition-all disabled:opacity-40"
                disabled>
          üíæ Download PNG
        </button>
        <button id="downloadSvg"
                class="w-full bg-gradient-to-r from-slate-700 to-slate-900 text-white py-2.5 md:py-3 text-sm md:text-base font-bold rounded-2xl shadow-md hover:shadow-xl transition-all disabled:opacity-40"
                disabled>
          üñ®Ô∏è Download SVG (print)
        </button>
        <button id="copyLink"
                class="w-full bg-gray-200 text-gray-800 py-2.5 md:py-3 text-sm md:text-base font-semibold rounded-2xl hover:bg-gray-300 transition-all disabled:opacity-40"
                disabled>
          üìã Copy target link
        </button>
      </div>
    </div>
  </div>

  <footer class="mt-10 pt-6 border-t border-gray-200 text-center text-xs md:text-sm text-gray-500">
    Made for creators & small businesses ‚Ä¢ Static QR (no tracking) ‚Ä¢ By @ScreenTime2334
  </footer>
</div>

<script>
// Elements
const qrTypeEl = document.getElementById('qrType');
const mainLabel = document.getElementById('mainLabel');
const mainInput = document.getElementById('mainInput');
const waExtra = document.getElementById('waExtra');
const waMessage = document.getElementById('waMessage');
const fgColorEl = document.getElementById('fgColor');
const bgColorEl = document.getElementById('bgColor');
const qrSizeEl = document.getElementById('qrSize');
const qrECCEl = document.getElementById('qrECC');
const generateBtn = document.getElementById('generateBtn');
const qrContainer = document.getElementById('qrContainer');
const targetText = document.getElementById('targetText');
const downloadPngBtn = document.getElementById('downloadPng');
const downloadSvgBtn = document.getElementById('downloadSvg');
const copyLinkBtn = document.getElementById('copyLink');

let qr;          // QRCode instance
let lastData = ''; // Last encoded text

// Change form based on type
qrTypeEl.addEventListener('change', () => {
  const type = qrTypeEl.value;
  waExtra.classList.add('hidden');
  waMessage.value = '';

  if (type === 'youtube') {
    mainLabel.textContent = 'YouTube Channel Handle or URL';
    mainInput.placeholder = '@screentime2334 or https://youtube.com/@screentime2334';
  } else if (type === 'youtube_video') {
    mainLabel.textContent = 'YouTube Video URL';
    mainInput.placeholder = 'https://youtu.be/VIDEO_ID';
  } else if (type === 'youtube_playlist') {
    mainLabel.textContent = 'YouTube Playlist URL';
    mainInput.placeholder = 'https://youtube.com/playlist?list=...';
  } else if (type === 'website') {
    mainLabel.textContent = 'Website URL';
    mainInput.placeholder = 'https://yourwebsite.com';
  } else if (type === 'instagram') {
    mainLabel.textContent = 'Instagram Username or URL';
    mainInput.placeholder = '@yourhandle or https://instagram.com/yourhandle';
  } else if (type === 'x') {
    mainLabel.textContent = 'X (Twitter) Username or URL';
    mainInput.placeholder = '@yourhandle or https://x.com/yourhandle';
  } else if (type === 'whatsapp') {
    mainLabel.textContent = 'WhatsApp Number (with country code, no +)';
    mainInput.placeholder = '919876543210';
    waExtra.classList.remove('hidden');
  }
});

// Build target URL based on type
function buildTarget() {
  const type = qrTypeEl.value;
  let input = mainInput.value.trim();
  if (!input) return '';

  if (type === 'youtube') {
    if (input.startsWith('http')) return input;
    if (input.startsWith('@')) return 'https://youtube.com/' + input;
    return 'https://youtube.com/@' + input;
  } else if (type === 'youtube_video' || type === 'youtube_playlist') {
    return input;
  } else if (type === 'website') {
    if (!input.startsWith('http')) return 'https://' + input;
    return input;
  } else if (type === 'instagram') {
    if (input.startsWith('http')) return input;
    input = input.replace('@', '');
    return 'https://instagram.com/' + input;
  } else if (type === 'x') {
    if (input.startsWith('http')) return input;
    input = input.replace('@', '');
    return 'https://x.com/' + input;
  } else if (type === 'whatsapp') {
    const number = input.replace(/\D/g, '');
    const msg = encodeURIComponent(waMessage.value.trim() || '');
    let url = 'https://wa.me/' + number;
    if (msg) url += '?text=' + msg;
    return url;
  }
  return input;
}

// Generate QR
generateBtn.addEventListener('click', () => {
  const data = buildTarget();
  if (!data) {
    alert('Please fill the required field.');
    return;
  }

  // Clear previous
  qrContainer.innerHTML = '';

  const size = parseInt(qrSizeEl.value, 10);
  const eccMap = { L: QRCode.CorrectLevel.L, M: QRCode.CorrectLevel.M, Q: QRCode.CorrectLevel.Q, H: QRCode.CorrectLevel.H };

  qr = new QRCode(qrContainer, {
    text: data,
    width: size,
    height: size,
    colorDark: fgColorEl.value,
    colorLight: bgColorEl.value,
    correctLevel: eccMap[qrECCEl.value] || QRCode.CorrectLevel.M
  });

  lastData = data;
  targetText.textContent = data;

  downloadPngBtn.disabled = false;
  downloadSvgBtn.disabled = false; // we will approximate SVG via canvas
  copyLinkBtn.disabled = false;
});

// Download PNG
downloadPngBtn.addEventListener('click', () => {
  if (!qr) return;
  const img = qrContainer.querySelector('img') || qrContainer.querySelector('canvas');
  if (!img) return;

  let dataUrl;
  if (img.tagName.toLowerCase() === 'img') {
    dataUrl = img.src;
  } else {
    dataUrl = img.toDataURL('image/png');
  }

  const a = document.createElement('a');
  a.href = dataUrl;
  a.download = 'qrcode-' + Date.now() + '.png';
  a.click();
});

// Download "SVG" (via canvas upscale ‚Üí good enough for print for now)
downloadSvgBtn.addEventListener('click', () => {
  if (!qr) return;
  const canvas = qrContainer.querySelector('canvas');
  const img = qrContainer.querySelector('img');

  let sourceCanvas;
  if (canvas) {
    sourceCanvas = canvas;
  } else if (img) {
    // Draw image onto a new canvas
    const temp = document.createElement('canvas');
    temp.width = img.width;
    temp.height = img.height;
    const ctx = temp.getContext('2d');
    ctx.drawImage(img, 0, 0);
    sourceCanvas = temp;
  } else {
    return;
  }

  const dataUrl = sourceCanvas.toDataURL('image/png');
  const a = document.createElement('a');
  a.href = dataUrl;
  a.download = 'qrcode-' + Date.now() + '.png';
  a.click();
});

// Copy link
copyLinkBtn.addEventListener('click', async () => {
  if (!lastData) return;
  try {
    await navigator.clipboard.writeText(lastData);
    copyLinkBtn.textContent = '‚úÖ Link copied!';
    setTimeout(() => { copyLinkBtn.textContent = 'üìã Copy target link'; }, 1500);
  } catch {
    alert('Could not copy link. Copy manually:\n' + lastData);
  }
});
</script>
</body>
</html>
